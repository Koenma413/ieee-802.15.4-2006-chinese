# 5.5.3 帧结构

设计帧结构主要考虑两方面，其一是使帧结构尽可能简单，其二是在具有噪声的信道中传输时保持健壮性。每一层的协议都会在这个结构上添加本层相关的头部和尾部。本标准定义了四种帧结构：
—— 信标帧。协调器使用信标帧传输信标
—— 数据帧。用于传输数据
—— 确认帧。用于确认成功接收到到帧
—— MAC命令帧。用于处理所有MAC对等的实体控制传输
##5.5.3.1 信标帧
图10显示了MAC子层中的信标帧结构。在信标模式的PAN网络中，协调器将传输信标帧。信标帧的负载中包含了超帧规范，GTS字段，追加地址地址以及信标负载（参考7.2.2.1）。负载的前面是MAC头（MAC header，MHR），后面是MAC尾（MAC footer， MFR）。MHR中包含了MAC帧控制字段，信标系列号（BSN），地址字段以及可选附加安全头。MFR中包含有一个16bit的帧检验序列（FCS）。MHR,MAC负载，MFR共同构成了一个MAC信标帧（也就是MAC协议数据单元MPDU）。
<center><img src="http://img.blog.csdn.net/20160529163302107"/></center>
MAC信标帧会被传递给PHY，作为PHY的服务数据单元(PHY service data unit， PSDU)，成为PHY的负载。	PHY会为它的负载的前面加上同步头（synchronizaiton header，SHR）和PHY头（PHY header，PHR）。SHR中包含先导序列和帧开始定界符（start-of-frame delimiter, SFD）；PHR中包含PHY负载的长度。SHR, PHR和负载共同构成了一个PHY包（也就是PHY协议数据单元PPDU）。
##5.5.3.2 数据帧
数据帧来源于上层，其结构如图11所示。
<center><img src="http://img.blog.csdn.net/20160529165335932"/></center>
数据负载被传递到MAC子层并成为MAC数据服务单元MSDU。负载的前面是一个MHR，后面是一个MFR。MFR中包含帧控制字段，数据序列号DSN，地址字段以及可选的附加安全头部。MFR有16bit的FCS组成。MHR, 负载，MFR共同构成了MAC数据帧。
MAC信标帧会被传递给PHY，作为PHY的服务数据单元 PSDU，成为PHY的负载。PHY会为它的负载的前面加上同步头SHR和PHY头PHR。SHR中包含先导序列和帧开始定界符SFD；PHR中包含PHY负载的长度。先导序列和SFD能够让接收器实现符号头部。SHR, PHR和负载共同构成了一个PHY包。
##5.5.3.3 确认帧
确认帧来源自MAC子层内部，其结构如图12所示。确认帧没有负载，由MHR和MFR构成。MHR包含帧控制字段和DSN。MFR有16bit的FCS组成。MHR,  MFR共同构成了MAC确认帧（也就是MPDU）。

<center><img src="http://img.blog.csdn.net/20160529170123864"/></center>

MPDU被传递个PHY，作为PHY的PSDU，成为其负载。PHY会为它的负载的前面加上同步头SHR和PHY头PHR。SHR中包含先导序列和帧开始定界符SFD；PHR中包含PHY负载的长度。SHR, PHR和负载共同构成了一个PHY包。
##5.5.3.4 MAC命令帧
确认帧来源自MAC子层内部，其结构如图13所示。MAC负载包括命令类型字段和命令负载（参考7.2.2.4）。负载的前面是MAC头（MAC header，MHR），后面是MAC尾（MAC footer， MFR）。MHR中包含了MAC帧控制字段，信标系列号（BSN），地址字段以及可选附加安全头。MFR中包含有一个16bit的帧检验序列（FCS）。MHR,MAC负载，MFR共同构成了一个MAC信标帧（也就是MPDU）。

<center><img src="http://img.blog.csdn.net/20160529170617857"/></center>
MPDU会被传递给PHY，作为PHY的服务数据单元 PSDU，成为PHY的负载。PHY会为它的负载的前面加上同步头SHR和PHY头PHR。SHR中包含先导序列和帧开始定界符SFD；PHR中包含PHY负载的长度。先导序列和SFD能够让接收器实现符号头部。SHR, PHR和负载共同构成了一个PHY包。
